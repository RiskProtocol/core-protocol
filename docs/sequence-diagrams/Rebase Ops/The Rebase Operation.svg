<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1016" height="402"><desc>title%20The%20Rebalance%20Operation%0AEngine-%3EDB%3A%20Updates%20Db%20with%20proper%20Early%2FNormal%20rebalance%20info%0AEngine-%3EDefender%3ACalls%20defender's%20webhook%0ADefender-%3EAPI%3AFetches%20next%20rebalance%20parameters%0AAPI-%3EDB%3A%20Fetches%20next%20rebalance%20info%0AAPI--%3EDefender%3A%20Returns%20encoded%20parameters%20with%20signature%0ADefender-%3ESmart%20Contract%3A%20Executes%20rebalance%20operation</desc><defs/><g><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1016" height="402"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="397.0293469542343" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The Rebalance Operation</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.717751328191405 88.511670804 L 46.717751328191405 402.1475741640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 406.2519759363945 88.511670804 L 406.2519759363945 402.1475741640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 510.04345652662886 88.511670804 L 510.04345652662886 402.1475741640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 834.5758500801444 88.511670804 L 834.5758500801444 402.1475741640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 943.4619600363319 88.511670804 L 943.4619600363319 402.1475741640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 85.89617805638281 47.799317964000004 L 85.89617805638281 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Engine</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 379.71170228437495 47.799317964000004 L 432.792249588414 47.799317964000004 L 432.792249588414 88.511670804 L 379.71170228437495 88.511670804 L 379.71170228437495 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="396.07203666637497" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 463.53690479843743 47.799317964000004 L 556.5500082548202 47.799317964000004 L 556.5500082548202 88.511670804 L 463.53690479843743 88.511670804 L 463.53690479843743 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="479.89723918043745" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Defender</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 806.4039235960936 47.799317964000004 L 862.7477765641952 47.799317964000004 L 862.7477765641952 88.511670804 L 806.4039235960936 88.511670804 L 806.4039235960936 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="822.7642579780936" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 877.8264257641952 47.799317964000004 L 1009.0974943084686 47.799317964000004 L 1009.0974943084686 88.511670804 L 877.8264257641952 88.511670804 L 877.8264257641952 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="894.1867601461952" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Smart Contract</text></g></g><g><g><g><rect fill="white" stroke="none" x="64.56081954819139" y="118.668969204" width="323.8480881682031" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="66.8226169281914" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Updates Db with proper Early/Normal rebalance info</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.717751328191405 138.27121316400002 L 393.8372214283945 138.27121316400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(406.2519759363945,138.27121316400002) translate(-406.2519759363945,-138.27121316400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 393.6864349363945 131.98844266400002 L 406.2519759363945 138.27121316400002 L 393.6864349363945 144.55398366400001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="192.43219155717574" y="160.889186964" width="171.89682474046876" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.69398893717573" y="174.459971244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls defender's webhook</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.717751328191405 180.491430924 L 497.62870201862887 180.491430924" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(510.04345652662886,180.491430924) translate(-510.04345652662886,-180.491430924)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 497.47791552662886 174.20866042400002 L 510.04345652662886 180.491430924 L 497.47791552662886 186.774201424 Z"/></g></g><g><g><rect fill="white" stroke="none" x="564.552197048875" y="203.109404724" width="215.51491250902345" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.8139944288749" y="216.680189004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Fetches next rebalance parameters</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 510.04345652662886 222.711648684 L 822.1610955721444 222.711648684" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(834.5758500801444,222.711648684) translate(-834.5758500801444,-222.711648684)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 822.0103090801443 216.428878184 L 834.5758500801444 222.711648684 L 822.0103090801443 228.994419184 Z"/></g></g><g><g><rect fill="white" stroke="none" x="537.9041374178203" y="245.32962248400003" width="165.01955118089845" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="540.1659347978202" y="258.900406764" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Fetches next rebalance info</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 834.5758500801444 264.93186644400004 L 418.6667304443945 264.93186644400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(406.2519759363945,264.93186644400004) translate(-406.2519759363945,-264.93186644400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 418.8175169363945 258.649095944 L 406.2519759363945 264.93186644400004 L 418.8175169363945 271.21463694400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="527.8865247466289" y="287.54984024400005" width="288.8462571135156" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="530.1483221266288" y="301.12062452400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns encoded parameters with signature</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 834.5758500801444 307.15208420400006 L 522.4582110346289 307.15208420400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(510.04345652662886,307.15208420400006) translate(-510.04345652662886,-307.15208420400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 522.6089975266289 300.86931370400004 L 510.04345652662886 307.15208420400006 L 522.6089975266289 313.4348547040001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="637.3119863409336" y="329.7700580040001" width="178.88144388109376" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="639.5737837209335" y="343.34084228400013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Executes rebalance operation</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 510.04345652662886 349.3723019640001 L 931.0472055283319 349.3723019640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(943.4619600363319,349.3723019640001) translate(-943.4619600363319,-349.3723019640001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 930.8964190363318 343.08953146400006 L 943.4619600363319 349.3723019640001 L 930.8964190363318 355.6550724640001 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>