<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1101" height="444"><desc>title%20The%20Rebalance%20Operation%0AEngine-%3EDB%3A%20Updates%20Db%20with%20proper%20Early%2FNormal%20rebalance%20info%0AEngine-%3EDefender%3ACalls%20defender's%20webhook%20with%20next%20rebalance%20params%0ADefender-%3EAPI%3AUpdate%20rebalance%20status%20as%20initiated%0AAPI-%3EDB%3AUpdate%20rebalance%20record%0ADefender-%3ESmart%20Contract%3A%20Executes%20rebalance%20operation%0ADefender-%3EAPI%3AUpdate%20rebalance%20status%20as%20completed%0AAPI-%3EDB%3AUpdate%20rebalance%20record</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1101" height="444"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="424.9416384419121" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The Rebalance Operation</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.717751328191405 88.511670804 L 46.717751328191405 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 425.8103255457695 88.511670804 L 425.8103255457695 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 621.2498774250664 88.511670804 L 621.2498774250664 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.5819688545586 88.511670804 L 911.5819688545586 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1028.6449414491874 88.511670804 L 1028.6449414491874 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 85.89617805638281 47.799317964000004 L 85.89617805638281 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Engine</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 399.27005189374995 47.799317964000004 L 452.350599197789 47.799317964000004 L 452.350599197789 88.511670804 L 399.27005189374995 88.511670804 L 399.27005189374995 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="415.63038627574997" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 574.743325696875 47.799317964000004 L 667.7564291532578 47.799317964000004 L 667.7564291532578 88.511670804 L 574.743325696875 88.511670804 L 574.743325696875 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="591.103660078875" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Defender</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 883.4100423705078 47.799317964000004 L 939.7538953386094 47.799317964000004 L 939.7538953386094 88.511670804 L 883.4100423705078 88.511670804 L 883.4100423705078 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="899.7703767525078" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 963.0094071770507 47.799317964000004 L 1094.2804757213241 47.799317964000004 L 1094.2804757213241 88.511670804 L 963.0094071770507 88.511670804 L 963.0094071770507 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="979.3697415590507" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Smart Contract</text></g></g><g><g><g><rect fill="white" stroke="none" x="64.56081954819139" y="118.668969204" width="343.4064377775781" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="66.8226169281914" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Updates Db with proper Early/Normal rebalance info</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.717751328191405 138.27121316400002 L 413.3955710377695 138.27121316400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(425.8103255457695,138.27121316400002) translate(-425.8103255457695,-138.27121316400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 413.2447845457695 131.98844266400002 L 425.8103255457695 138.27121316400002 L 413.2447845457695 144.55398366400001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="156.38733071733205" y="160.889186964" width="355.19296731859373" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.64912809733204" y="174.459971244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls defender's webhook with next rebalance params</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.717751328191405 180.491430924 L 608.8351229170664 180.491430924" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(621.2498774250664,180.491430924) translate(-621.2498774250664,-180.491430924)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 608.6843364250664 174.20866042400002 L 621.2498774250664 180.491430924 L 608.6843364250664 186.774201424 Z"/></g></g><g><g><rect fill="white" stroke="none" x="647.6448102690899" y="203.109404724" width="237.54222574144532" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="649.9066076490899" y="216.680189004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance status as initiated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 621.2498774250664 222.711648684 L 899.1672143465586 222.711648684" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(911.5819688545586,222.711648684) translate(-911.5819688545586,-222.711648684)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 899.0164278545585 216.428878184 L 911.5819688545586 222.711648684 L 899.0164278545585 228.994419184 Z"/></g></g><g><g><rect fill="white" stroke="none" x="585.7748802156718" y="245.32962248400003" width="165.84253396898438" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="588.0366775956718" y="258.900406764" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance record</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.5819688545586 264.93186644400004 L 438.2250800537695 264.93186644400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(425.8103255457695,264.93186644400004) translate(-425.8103255457695,-264.93186644400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 438.3758665457695 258.649095944 L 425.8103255457695 264.93186644400004 L 438.3758665457695 271.21463694400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="725.727505062498" y="287.54984024400005" width="198.43980874925782" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="727.989302442498" y="301.12062452400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Executes rebalance operation</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 621.2498774250664 307.15208420400006 L 1016.2301869411874 307.15208420400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1028.6449414491874,307.15208420400006) translate(-1028.6449414491874,-307.15208420400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1016.0794004491873 300.86931370400004 L 1028.6449414491874 307.15208420400006 L 1016.0794004491873 313.4348547040001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="639.0929456450665" y="329.7700580040001" width="254.6459549894922" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="641.3547430250665" y="343.34084228400013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance status as completed</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 621.2498774250664 349.3723019640001 L 899.1672143465586 349.3723019640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(911.5819688545586,349.3723019640001) translate(-911.5819688545586,-349.3723019640001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 899.0164278545585 343.08953146400006 L 911.5819688545586 349.3723019640001 L 899.0164278545585 355.6550724640001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="585.7748802156718" y="371.9902757640001" width="165.84253396898438" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="588.0366775956718" y="385.5610600440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance record</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.5819688545586 391.5925197240001 L 438.2250800537695 391.5925197240001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(425.8103255457695,391.5925197240001) translate(-425.8103255457695,-391.5925197240001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 438.3758665457695 385.3097492240001 L 425.8103255457695 391.5925197240001 L 438.3758665457695 397.87529022400014 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>