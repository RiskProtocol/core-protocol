<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1140" height="444"><desc>title%20The%20Rebalance%20Operation%0ARebalanceLambda-%3EDB%3A%20Updates%20Db%20with%20proper%20Early%2FNormal%20rebalance%20info%0ARebalanceLambda-%3EDefender%3ACalls%20defender's%20webhook%20with%20next%20rebalance%20params%0ADefender-%3EAPI%3AUpdate%20rebalance%20status%20as%20initiated%0AAPI-%3EDB%3AUpdate%20rebalance%20record%0ADefender-%3ESmart%20Contract%3A%20Executes%20rebalance%20operation%0ADefender-%3EAPI%3AUpdate%20rebalance%20status%20as%20completed%0AAPI-%3EDB%3AUpdate%20rebalance%20record</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1140" height="444"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.2924685200371" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">The Rebalance Operation</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 85.41941148444141 88.511670804 L 85.41941148444141 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 464.5119857020195 88.511670804 L 464.5119857020195 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 659.9515375813164 88.511670804 L 659.9515375813164 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 950.2836290108086 88.511670804 L 950.2836290108086 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1067.3466016054374 88.511670804 L 1067.3466016054374 444.36779192400013" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 163.29949836888284 47.799317964000004 L 163.29949836888284 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982000005" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RebalanceLambda</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 437.97171204999995 47.799317964000004 L 491.052259354039 47.799317964000004 L 491.052259354039 88.511670804 L 437.97171204999995 88.511670804 L 437.97171204999995 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="454.33204643199997" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 613.444985853125 47.799317964000004 L 706.4580893095078 47.799317964000004 L 706.4580893095078 88.511670804 L 613.444985853125 88.511670804 L 613.444985853125 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="629.805320235125" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Defender</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 922.1117025267578 47.799317964000004 L 978.4555554948594 47.799317964000004 L 978.4555554948594 88.511670804 L 922.1117025267578 88.511670804 L 922.1117025267578 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="938.4720369087578" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1001.7110673333007 47.799317964000004 L 1132.9821358775741 47.799317964000004 L 1132.9821358775741 88.511670804 L 1001.7110673333007 88.511670804 L 1001.7110673333007 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1018.0714017153007" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Smart Contract</text></g></g><g><g><g><rect fill="white" stroke="none" x="103.26247970444139" y="118.668969204" width="343.4064377775781" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="105.5242770844414" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Updates Db with proper Early/Normal rebalance info</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 85.41941148444141 138.27121316400002 L 452.0972311940195 138.27121316400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(464.5119857020195,138.27121316400002) translate(-464.5119857020195,-138.27121316400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 451.9464447020195 131.98844266400002 L 464.5119857020195 138.27121316400002 L 451.9464447020195 144.55398366400001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="195.08899087358205" y="160.889186964" width="355.19296731859373" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="197.35078825358204" y="174.459971244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls defender's webhook with next rebalance params</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 85.41941148444141 180.491430924 L 647.5367830733164 180.491430924" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(659.9515375813164,180.491430924) translate(-659.9515375813164,-180.491430924)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 647.3859965813164 174.20866042400002 L 659.9515375813164 180.491430924 L 647.3859965813164 186.774201424 Z"/></g></g><g><g><rect fill="white" stroke="none" x="686.3464704253399" y="203.109404724" width="237.54222574144532" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="688.6082678053399" y="216.680189004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance status as initiated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 659.9515375813164 222.711648684 L 937.8688745028086 222.711648684" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(950.2836290108086,222.711648684) translate(-950.2836290108086,-222.711648684)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 937.7180880108085 216.428878184 L 950.2836290108086 222.711648684 L 937.7180880108085 228.994419184 Z"/></g></g><g><g><rect fill="white" stroke="none" x="624.4765403719218" y="245.32962248400003" width="165.84253396898438" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="626.7383377519218" y="258.900406764" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance record</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 950.2836290108086 264.93186644400004 L 476.9267402100195 264.93186644400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(464.5119857020195,264.93186644400004) translate(-464.5119857020195,-264.93186644400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 477.0775267020195 258.649095944 L 464.5119857020195 264.93186644400004 L 477.0775267020195 271.21463694400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="764.429165218748" y="287.54984024400005" width="198.43980874925782" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="766.690962598748" y="301.12062452400005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Executes rebalance operation</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 659.9515375813164 307.15208420400006 L 1054.9318470974374 307.15208420400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(1067.3466016054374,307.15208420400006) translate(-1067.3466016054374,-307.15208420400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1054.7810606054375 300.86931370400004 L 1067.3466016054374 307.15208420400006 L 1054.7810606054375 313.4348547040001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="677.7946058013165" y="329.7700580040001" width="254.6459549894922" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="680.0564031813165" y="343.34084228400013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance status as completed</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 659.9515375813164 349.3723019640001 L 937.8688745028086 349.3723019640001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(950.2836290108086,349.3723019640001) translate(-950.2836290108086,-349.3723019640001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 937.7180880108085 343.08953146400006 L 950.2836290108086 349.3723019640001 L 937.7180880108085 355.6550724640001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="624.4765403719218" y="371.9902757640001" width="165.84253396898438" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="626.7383377519218" y="385.5610600440001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Update rebalance record</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 950.2836290108086 391.5925197240001 L 476.9267402100195 391.5925197240001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(464.5119857020195,391.5925197240001) translate(-464.5119857020195,-391.5925197240001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 477.0775267020195 385.3097492240001 L 464.5119857020195 391.5925197240001 L 477.0775267020195 397.87529022400014 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>